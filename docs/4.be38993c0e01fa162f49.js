(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Czc0:function(t,a,n){"use strict";n.r(a),n.d(a,"AuthorModule",function(){return x});var i=n("ofXK"),e=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.Jb({type:t}),t.\u0275inj=e.Ib({imports:[[i.b]]}),t})();class s{constructor(t){var a;this._id=(null==t?void 0:t._id)||"",this.name=(null==t?void 0:t.name)||"",this.bio=(null==t?void 0:t.bio)||"",this.dateAdded=(null==t?void 0:t.dateAdded)?new Date(null==t?void 0:t.dateAdded):new Date,this.dateModified=(null==t?void 0:t.dateModified)?new Date(null==t?void 0:t.dateModified):new Date,this.description=(null==t?void 0:t.description)||"",this.link=(null==t?void 0:t.link)||"",this.quoteCount=null!==(a=null==t?void 0:t.quoteCount)&&void 0!==a?a:0,this.slug=(null==t?void 0:t.slug)||"",this.isFav=t.isFav||!1}}class c{static parseErrors(t){let a="";if(t)for(const n in t)a+=n+": "+t[n]+"\r\n";return a}}let r=(()=>{class t extends c{constructor(){super()}getData(t){const a=localStorage.getItem(t);return a?JSON.parse(a):null}setData(t,a){localStorage.setItem(t,JSON.stringify(a))}deleteData(t){localStorage.removeItem(t)}clearStorage(){localStorage.clear()}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=e.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{transform(t,...a){return t.split("").slice(0,a[0]).join("")+"..."}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275pipe=e.Kb({name:"wrap",type:t,pure:!0}),t})(),p=(()=>{class t{constructor(){this.childBtnClick=new e.n}ngOnInit(){}addFavourite(t){console.log(t),this.childBtnClick.emit({data:this.author,name:t})}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Fb({type:t,selectors:[["app-author-list-item"]],inputs:{author:"author"},outputs:{childBtnClick:"childBtnClick"},decls:25,vars:15,consts:[[1,"card"],[1,"card-header","text-white","text-right",3,"ngClass"],[1,"",3,"click"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-link",3,"href"]],template:function(t,a){1&t&&(e.Qb(0,"div",0),e.Qb(1,"div",1),e.Qb(2,"span",2),e.ac("click",function(){return a.addFavourite(a.author.isFav?"remove":"add")}),e.yc(3),e.Pb(),e.Pb(),e.Qb(4,"div",3),e.Qb(5,"h5",4),e.Qb(6,"span"),e.yc(7,"Name: "),e.Pb(),e.yc(8),e.Pb(),e.Qb(9,"p",5),e.Qb(10,"span"),e.yc(11,"Date: "),e.Pb(),e.yc(12),e.dc(13,"date"),e.Pb(),e.Qb(14,"p",5),e.Qb(15,"span"),e.yc(16,"Bio: "),e.Pb(),e.yc(17),e.dc(18,"wrap"),e.Pb(),e.Qb(19,"p"),e.Qb(20,"span"),e.yc(21,"Link:"),e.Pb(),e.Qb(22,"a",6),e.yc(23),e.dc(24,"wrap"),e.Pb(),e.Pb(),e.Pb(),e.Pb()),2&t&&(e.zb(1),e.ic("ngClass",a.author.isFav?"bg-red":"bg-black"),e.zb(2),e.zc(a.author.isFav?"Remove Favt":"Add Favt"),e.zb(5),e.zc(a.author.name),e.zb(4),e.zc(e.ec(13,7,a.author.dateAdded)),e.zb(5),e.zc(e.fc(18,9,a.author.bio,60)),e.zb(5),e.jc("href",a.author.link,e.sc),e.zb(1),e.zc(e.fc(24,12,a.author.link,40)))},directives:[i.j],pipes:[i.d,l],styles:[".card[_ngcontent-%COMP%]{box-shadow:3px 5px 40px 4px #0006}"]}),t})();function d(t,a){if(1&t){const t=e.Rb();e.Ob(0),e.Qb(1,"div",2),e.Qb(2,"app-author-list-item",3),e.ac("childBtnClick",function(a){return e.rc(t),e.cc().childComponetBtnClick(a)}),e.Pb(),e.Pb(),e.Nb()}if(2&t){const t=a.$implicit;e.zb(2),e.ic("author",t)}}let u=(()=>{class t{constructor(t){this.localStorage=t,this.fav=this.localStorage.getData("fav-auth")||{}}ngOnInit(){const t=Object.values(this.fav);this.authorList=null==t?void 0:t.map(t=>new s(t))}childComponetBtnClick(t){switch(null==t?void 0:t.name){case"remove":this.fav.hasOwnProperty(t.data._id)&&delete this.fav[t.data._id],this.authorList=this.authorList.filter(a=>(null==a?void 0:a._id)!==t.data._id),this.localStorage.setData("fav-auth",this.fav)}}}return t.\u0275fac=function(a){return new(a||t)(e.Lb(r))},t.\u0275cmp=e.Fb({type:t,selectors:[["app-favorite-author-diary"]],decls:2,vars:1,consts:[[1,"row"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","mt-4"],[3,"author","childBtnClick"]],template:function(t,a){1&t&&(e.Qb(0,"div",0),e.wc(1,d,3,1,"ng-container",1),e.Pb()),2&t&&(e.zb(1),e.ic("ngForOf",a.authorList))},directives:[i.k,p],styles:[""]}),t})();class h{constructor(t){this.count=(null==t?void 0:t.count)||0,this.lastItemIndex=(null==t?void 0:t.lastItemIndex)||0,this.page=(null==t?void 0:t.page)||0,this.totalCount=(null==t?void 0:t.totalCount)||0,this.totalPages=(null==t?void 0:t.totalPages)||0}}var b=n("tk/3"),g=n("AytR");let f=(()=>{class t{constructor(t){this.http=t,this.url=g.a.apiUrl}get(t,a,n){if(n||(n=(n=new b.c({"Content-Type":"application/json;charset=utf-8"})).append("Accept","application/json")),a){const n=[];for(const t in a)n.push(t+"="+a[t]);t=t+"?"+n.join("&")}return this.http.get(`${this.url}/${t}`,{headers:n})}getCallbacks(t,a,n,i){if(n||(n=(n=(n=new b.c({"Content-Type":"application/json;charset=utf-8"})).append("Accept","application/json")).append("dataType","jsonp")),a){const n=[];for(const t in a)n.push(t+"="+a[t]);t=t+"?"+n.join("&")}return this.http.jsonp(`${this.url}/${t}`,i)}}return t.BASE_URL=g.a.apiUrl,t.\u0275fac=function(a){return new(a||t)(e.Xb(b.a))},t.\u0275prov=e.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v=(()=>{class t extends c{constructor(t){super(),this.api=t}getAuthorInfo(t){return this.api.get("authors",t)}}return t.\u0275fac=function(a){return new(a||t)(e.Xb(f))},t.\u0275prov=e.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(){this.paginationBtn=new e.n}ngOnInit(){}onClickedPage(t){switch(t){case"prev":this.pages.page>1&&(this.pages.page=this.pages.page-1,this.paginationBtn.emit({name:t,page:this.pages}));break;case"next":this.pages.page<this.pages.totalPages&&(this.pages.page=this.pages.page+1,this.paginationBtn.emit({name:t,page:this.pages}))}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Fb({type:t,selectors:[["app-pagination"]],inputs:{pages:"pages"},outputs:{paginationBtn:"paginationBtn"},decls:7,vars:3,consts:[[1,"page","mt-3","text-center"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"mx-2"]],template:function(t,a){1&t&&(e.Qb(0,"div",0),e.Qb(1,"button",1),e.ac("click",function(){return a.onClickedPage("prev")}),e.yc(2,"Prev"),e.Pb(),e.Qb(3,"span",2),e.yc(4),e.Pb(),e.Qb(5,"button",1),e.ac("click",function(){return a.onClickedPage("next")}),e.yc(6,"Next"),e.Pb(),e.Pb()),2&t&&(e.zb(1),e.ic("disabled",1==a.pages.page),e.zb(3),e.Ac("Page:",a.pages.page,""),e.zb(1),e.ic("disabled",a.pages.page==a.pages.totalPages))},styles:[".page[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 0;box-shadow:3px 5px 40px 4px #00000078}"]}),t})();function w(t,a){if(1&t){const t=e.Rb();e.Ob(0),e.Qb(1,"div",3),e.Qb(2,"app-author-list-item",4),e.ac("childBtnClick",function(a){return e.rc(t),e.cc().childComponetBtnClick(a)}),e.Pb(),e.Pb(),e.Nb()}if(2&t){const t=a.$implicit;e.zb(2),e.ic("author",t)}}function k(t,a){if(1&t){const t=e.Rb();e.Qb(0,"div",0),e.Qb(1,"div",5),e.Qb(2,"app-pagination",6),e.ac("paginationBtn",function(a){return e.rc(t),e.cc().paginationBtnClick(a)}),e.Pb(),e.Pb(),e.Pb()}if(2&t){const t=e.cc();e.zb(2),e.ic("pages",t.paginationData)}}let y=(()=>{class t{constructor(t,a){this.AuthorService=t,this.localStorage=a,this.fav=this.localStorage.getData("fav-auth")||{}}ngOnInit(){this.getData(10,3)}childComponetBtnClick(t){switch(null==t?void 0:t.name){case"add":t.data.isFav=!0,this.fav[t.data._id]=t.data,this.localStorage.setData("fav-auth",this.fav);break;case"remove":this.fav.hasOwnProperty(t.data._id)&&delete this.fav[t.data._id],t.data.isFav=!1,this.localStorage.setData("fav-auth",this.fav)}}getData(t,a){this.AuthorService.getAuthorInfo({limit:t,skip:(a-1)*t}).subscribe(t=>{var a;this.paginationData=new h(t),this.authorList=null===(a=null==t?void 0:t.results)||void 0===a?void 0:a.map(t=>(this.fav&&this.fav.hasOwnProperty(null==t?void 0:t._id)&&(t.isFav=!0),new s(t)))},t=>{})}paginationBtnClick(t){this.getData(10,t.page.page)}}return t.\u0275fac=function(a){return new(a||t)(e.Lb(v),e.Lb(r))},t.\u0275cmp=e.Fb({type:t,selectors:[["app-author-diary"]],decls:3,vars:2,consts:[[1,"row"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-4","mt-4"],[3,"author","childBtnClick"],[1,"col-md-12"],[3,"pages","paginationBtn"]],template:function(t,a){1&t&&(e.Qb(0,"div",0),e.wc(1,w,3,1,"ng-container",1),e.Pb(),e.wc(2,k,3,1,"div",2)),2&t&&(e.zb(1),e.ic("ngForOf",a.authorList),e.zb(1),e.ic("ngIf",a.paginationData))},directives:[i.k,i.l,p,m],styles:[""]}),t})();var P=n("tyNb");const C=[{path:"",redirectTo:"author",pathMatch:"full"},{path:"author",component:y},{path:"fav-author",component:u}];let Q=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.Jb({type:t}),t.\u0275inj=e.Ib({imports:[[P.d.forChild(C)],P.d]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.Jb({type:t}),t.\u0275inj=e.Ib({imports:[[i.b,Q,o]]}),t})()}}]);